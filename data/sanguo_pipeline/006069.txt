卫固等人与高干、张晟联合起来攻打杜畿所在的张城，却攻不破。