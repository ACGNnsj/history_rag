先主刘备令张飞领兵进驻宕渠，与张郃等交战于瓦口一带，击败张郃等，张郃收兵退还南郑。