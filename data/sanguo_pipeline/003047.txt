益州刺史刘焉任命张鲁为督义司马，命他和别部司马张修一起带兵去攻打汉中太守苏固，张鲁借机杀死了张修，夺了他的兵权。